[gd_scene load_steps=16 format=3 uid="uid://d28lh7c58l5qv"]

[ext_resource type="Script" path="res://scenes/main/main.gd" id="1_bkdub"]
[ext_resource type="PackedScene" uid="uid://6ngiuq2e3o7u" path="res://scenes/game/game.tscn" id="2_t3v72"]
[ext_resource type="Script" path="res://scenes/fx/delete_in_web.gd" id="3_5l5eu"]
[ext_resource type="Shader" path="res://shader/sun_flare.gdshader" id="3_cl871"]
[ext_resource type="Script" path="res://scenes/fps_counter.gd" id="3_w0te1"]
[ext_resource type="Texture2D" uid="uid://diwf3xbj3nljl" path="res://assets/texture/fx/texture_sun_flare.png" id="4_1icme"]
[ext_resource type="Shader" path="res://shader/kuwahara_screen.gdshader" id="4_cm0ii"]
[ext_resource type="Texture2D" uid="uid://1kechv03r57s" path="res://assets/texture/fx/texture_sun_halo.png" id="4_xmcxe"]
[ext_resource type="PackedScene" uid="uid://dcaypqvm8j1yq" path="res://scenes/ui/ui.tscn" id="5_pyd74"]
[ext_resource type="Shader" path="res://shader/arbitrary_color_reduction.gdshader" id="8_xtgwv"]
[ext_resource type="Shader" path="res://shader/pointilism.gdshader" id="9_kb3xo"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tpm1x"]
shader = ExtResource("3_cl871")
shader_parameter/Blur = 4.455
shader_parameter/FlareThreshold = 0.9
shader_parameter/Flares = 16
shader_parameter/FlareSpacing = 0.125
shader_parameter/Intensity = 1.425
shader_parameter/Saturation_ = 1.435
shader_parameter/FlareMult = ExtResource("4_xmcxe")
shader_parameter/FlareMult2 = ExtResource("4_1icme")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_b6bpu"]
shader = ExtResource("4_cm0ii")
shader_parameter/radius = 2
shader_parameter/offset = Vector3(0, 0, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sxc23"]
shader = ExtResource("8_xtgwv")
shader_parameter/quantize_size = 0.0
shader_parameter/handle_scale = false
shader_parameter/handle_subpixels = true
shader_parameter/dither_enabled = true
shader_parameter/bayer_pattern = 2.0
shader_parameter/divisions = 2.0
shader_parameter/contrast = 1.0
shader_parameter/shift = 0.0
shader_parameter/grayscale = false
shader_parameter/use_palette = false

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sk82f"]
render_priority = 0
shader = ExtResource("9_kb3xo")
shader_parameter/StrokeSize = 3.5
shader_parameter/DepthMaskBase = 0.05
shader_parameter/DepthMaskIntensity = 0.3

[node name="Main" type="Node"]
script = ExtResource("1_bkdub")

[node name="Game" parent="." instance=ExtResource("2_t3v72")]

[node name="SunFlare" type="CanvasLayer" parent="."]
visible = false
script = ExtResource("3_5l5eu")

[node name="SunFlare" type="ColorRect" parent="SunFlare"]
material = SubResource("ShaderMaterial_tpm1x")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="KuwaharaLayer" type="CanvasLayer" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="KuwaharaLayer"]
material = SubResource("ShaderMaterial_b6bpu")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="QuantizeLayer" type="CanvasLayer" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="QuantizeLayer"]
material = SubResource("ShaderMaterial_sxc23")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PaintingLayer" type="CanvasLayer" parent="."]
visible = false
script = ExtResource("3_5l5eu")

[node name="ColorRect" type="ColorRect" parent="PaintingLayer"]
material = SubResource("ShaderMaterial_sk82f")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="UILayer" type="CanvasLayer" parent="."]
layer = 99

[node name="UI" parent="UILayer" instance=ExtResource("5_pyd74")]

[node name="Control" type="Control" parent="UILayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="FPSCounter" type="Label" parent="UILayer/Control"]
modulate = Color(0.458405, 0.458405, 0.458405, 1)
layout_mode = 0
offset_left = 8.0
offset_top = 8.0
offset_right = 675.0
offset_bottom = 31.0
theme_override_constants/outline_size = 5
text = "FPS: 00"
script = ExtResource("3_w0te1")
